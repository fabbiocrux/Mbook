# Introduction {#intro}

You can label chapter and section titles using `{#label}` after them, e.g., we can reference Chapter \@ref(intro). If you do not manually label them, there will be automatic labels anyway, e.g., Chapter \@ref(methods).

Figures and tables with captions will be placed in `figure` and `table` environments, respectively.

```{r nice-fig, fig.cap='Here is a nice figure!', out.width='80%', fig.asp=.75, fig.align='center'}
par(mar = c(4, 4, .1, .1))
plot(pressure, type = 'b', pch = 19)
```

Reference a figure by its code chunk label with the `fig:` prefix, e.g., see Figure \@ref(fig:nice-fig). Similarly, you can reference tables generated from `knitr::kable()`, e.g., see Table \@ref(tab:nice-tab).

```{r nice-tab, tidy=FALSE}
knitr::kable(
  head(iris, 20), caption = 'Here is a nice table!',
  booktabs = TRUE
)
```

You can write citations, too. For example, we are using the **bookdown** package [@R-bookdown] in this sample book, which was built on top of R Markdown and **knitr** [@xie2015].



```{r}

require(tabr)
header <- list(
  title = "Devil's got you beat",
  composer = "Words and music Blues Saraceno",
  performer = "Blues Saraceno",
  album = "Dark Country 4",
  subtitle = "From the album Dark Country 4 by Blues Saraceno",
  arranger = "Two picking patterns arranged by Matthew Leonawicz",
  copyright = "2016 Extreme Music"
)

txt <- c("DADGAD tuning with capo on 1st fret. Fingerpicking. Let ring.")
tuning <- "d, a, d g a d'"

# melody 1
notes <- c(pn("f d c d a d'", 2), "f g a d' f d c a,")
info <- purrr::map_chr(c("16(", notate("16(", txt)),
                       ~pc(.x, "16) 8 8 16 16 16( 16) 8 8 16 16 16- 16*7"))
strings <- "4 4 5 4 2 1 4 4 5 4 2 1 4 4 2 1 4 4 5 5"
p1 <-purrr::map(info, ~p(notes, .x, strings))
e1 <- p("d a d' c a, f, d,", "8 16 16 16( 16) 16( 16)", "4 2 1 5 5 6 6")
e2 <- p("d a d' c a, f, e, d,", "8 16 16 16( 16) 16- 16( 1)", "4 2 1 5 5 6 6 6")

#melody 2
p2 <- p("d a d' f d c", "8 16*4 8", "4 2 1 4 4 5")

p_all <- c(pct(c(p1[[2]], e1), 3), volta(pct(p2, 3), 1), p1[[1]], e1, p1[[1]], e2)
track(p_all, tuning = tuning) %>% score() %>%
  tab("out.pdf", "dm", "4/4", "4 = 115", header)
```

